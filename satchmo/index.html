<!DOCTYPE html>
<html lang="en">
<!--[if lt IE 9]><script language="javascript" type="text/javascript" src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Louis Armstrong Discography</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="shortcut icon" href="/images/favicon.png"> -->
    <meta name="description" content="I believe music can be a form of perfection - with nothing added or subtracted, flawless just the way it is. This is my take on the music and the people that make it. It's mostly about jazz and blues. Content and design by Žan Anderle">
    <link rel="canonical" href="http://musingsonmusic.com/satchmo/">

    

    <!-- Custom CSS -->
<!--    <link rel="stylesheet" href="/css/main.css"> -->
    <link href='http://fonts.googleapis.com/css?family=Belleza|Droid+Serif' rel='stylesheet' type='text/css'>
    <!-- SCSS, baby -->
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/modernizr.js"></script>
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script src="/js/default.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-53540157-1', 'auto');
      ga('send', 'pageview');

    </script>
</head>


    <body>
      <div id="wrap">
        <header class="site-header row clear">

    <nav class="social-media-nav col col-3 tablet-col-4 mobile-no-padding mobile-no-margin">
      <ul class="mobile-no-margin">
        <li class="inline-block">
          <a class="icon-twitter twitter mobile-no-margin" href="https://twitter.com/z_anderle" target="_blank"></a>
        </li>
        <li class="inline-block">
          <a class="icon-instagramm instagram mobile-no-margin" href="https://instagram.com/zanderle" target="_blank"></a>
        </li>
        <li class="inline-block">
          <a class="icon-mail-alt rss-feed mobile-no-margin" href="http://eepurl.com/bc2g2v" target="_blank" title="Subscribe!"></a>
        </li>
      </ul>
    </nav>
    <div class="logo-wrapper col col-6 tablet-col-4">
      <a class="main-logo container block" href="/"></a>
    </div>
    <div class="menu-wrapper col col-3 tablet-col-4">
      <a class="icon-menu right inline-block higher" id="menu" href="#"></a>
    </div>
    <nav class="site-nav right">
      <ul class="no-padding no-margin">
        <li class="inline-block">
          <a class="page-link" href="/">Blog</a>
        </li>
        
            
            
            
        
            
            
          <li class="inline-block">
            <a class="page-link" href="/about/">About</a>
          </li>
            
            
        
            
            
            
        
            
            
            
        
            
        
            
            
            
        
            
            
            
        
            
            
            
        
            
            
            
        
            
            
            
        
            
            
            
        
      </ul>
    </nav>



</header>

<div class="subheader text-center">
<h4 class="white heading inline-block">Music can be a form of perfection - with nothing added or subtracted, flawless just the way it is.</h4>
</div>


        <div class="row clear container">
          <div class="post single-post">

  <header class="post-header">
    <h1 class="text-center heading">Louis Armstrong Discography</h1>
    <!-- <div class="text-center misc">
        <i class="icon-calendar-empty inline-block"></i>
        <span class="inline-block"></span>
        
        <i class="icon-tag inline-block"></i>
        <span class="inline-block tags">Louis Armstrong Visualization</span>
    </div> -->
  </header>

  <article class="post-content">
  <h4 id="louis-armstrongs-lifework-visualized">Louis Armstrong’s lifework visualized</h4>

<div id="satchmo-container">
    <div id="satchmo" style="width: 100%; overflow: auto;"></div>
    <div class="tooltip">
        <div class="gig"></div>
        <div class="date-and-location"></div>
        <div class="songs"></div>
        <div class="lineup"></div>
        <div class="comments"></div>
    </div>
</div>

<p><em class="none show-mobile">Unfortunately this interactive visualization is not supported on mobile devices. Come check it out on your tablet or computer.</em></p>

<p><span class="font-small">A few technical details, for those interested. I used <a href="http://d3js.org/">d3</a> library for the actual visualization. To get the data from the website I mentioned earlier, I used <a href="http://import.io">import.io</a> (which was a joy to use, if I may add). And finally for parsing and cleaning up, Python was the way to go.</span></p>

<script type="text/javascript" src="/js/handlebars-v3.0.1.js"></script>

<script type="text/javascript" src="/js/d3.min.js"></script>

<script type="text/javascript" src="/js/louis_armstrong.js"></script>

<script id="event-template" type="text/x-handlebars-template">
  <div class="entry">
    <h3></h3>
    <div>
      
    </div>
  </div>
</script>

<script type="text/javascript">
// Set the dimensions of the canvas / graph
var margin = {top: 40, right: 40, bottom: 40, left: 40};
// var width = $('.post').width() - margin.left - margin.right;
var width = 3200 - margin.left - margin.right;
var height = 600 - margin.top - margin.bottom;

// Other variables

// // Prepare data
// var yearlyData = d3.nest()
//                     .key(function(d) { return d.release_date; })
//                     .sortKeys(d3.ascending)
//                     .entries(data);
// var maxPerYear = d3.max(yearlyData, function(d) { return d.values.length; });

// Date formater
var dateFormat = d3.time.format('%0d.%0m.%Y');

// Set scales

var xScale = d3.time.scale()
                    .range([0, width])
                    // .domain([dateFormat.parse(satchmo_data[0].display_date),
                    //     dateFormat.parse(satchmo_data[satchmo_data.length -1].display_date)]);
                    .domain([dateFormat.parse('4.8.1901'), dateFormat.parse('6.7.1971')]);

var cScale = d3.scale.ordinal()
                    .range(["#a6cee3","#1f78b4","#b2df8a","#555","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928", "#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"])
                    .domain(satchmo_data, function (d) { d.location; });

// TODO:
// - Barve
// - Info
// - Primer Eventa
// - Moving average

// var xScale = d3.scale.ordinal()
//                     .rangeBands([0, width], 0.52, 0.05)
//                     .domain(d3.range(d3.min(data, function(d) { return d.release_date - 1; }), d3.max(data, function(d) { return d.release_date + 1; })));
// var yScale = d3.scale.ordinal()
//                     .rangeBands([height, 0], 0, 0.1)
//                     .domain(d3.range(0, maxPerYear));
// var cScale = d3.scale.ordinal()
//                 .range(["#a6cee3","#1f78b4","#b2df8a","#555","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928", "#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"])
//                 .domain(data, function(d) { return d.recording_locations.join(' or '); });
// var oScale = d3.scale.linear()
//                 .range([0.2, 1.0])
//                 .domain([0, 10]);
// var rScale = d3.scale.linear()
//                 .range([xScale.rangeBand()*0.7, xScale.rangeBand()*1.5])
//                 .domain([0, 10]);

// Set xAxis
var xAxis = d3.svg.axis().scale(xScale).orient('bottom');

// Add svg canvas
var svg = d3.select("#satchmo").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

// Add sessions
var sessions = svg.selectAll('circle').data(satchmo_data).enter()
        .append('circle')
        .attr('class', 'session')
        .attr('r', '5px')
        .attr('cx', function(d) { return xScale(dateFormat.parse(d.display_date)); })
        .attr('cy', 2*height/3)
        .attr('fill', function(d) { return cScale(d.location); })
        .attr('fill-opacity', 0.3);


// Interactivity
var containerWidth = $('.post').width();
var tooltip = d3.select('#satchmo-container .tooltip');
sessions.on('mouseover', function (d) {
    tooltip.style('opacity', 1)
            .style('left', ($('#satchmo-container').position().left + margin.left + xScale(dateFormat.parse(d.display_date)))%containerWidth + 'px')
            .style('top', margin.top + $('#satchmo-container').position().top + 2*height/3 + 50 + 'px');
    tooltip.select('.date-and-location')
            .html(d.display_date + ' in ' + d.location);
});

// var records = g.selectAll('circle')
//     .data(function(d) { return d.values; })
//     .enter()
//     .append('circle')
//     .attr('class', 'record')
//     .attr('r', xScale.rangeBand())
//     .attr('cy', function(d, i) { return yScale(centered(i)); })
//     .style('fill', function(d) { return 'url(#' + d.title.replace(/\s+|\(|\)|\'/g, '-') + ')'; })
//     .style('stroke', function(d) { return cScale(d.recording_locations); });

var source   = $("#event-template").html();
var template = Handlebars.compile(source);

var context = {
    title: 'Birth',
    body: "Armstrong was born into a very poor family in New Orleans, Louisiana, the grandson of slaves. He spent his youth in poverty, in a rough neighborhood, known as “the Battlefield”, which was part of the Storyville legal prostitution district."
};

var eventHtml = template(context);

d3.select('#satchmo-container').append('div')
    .attr('class', 'birth')
    .style('left', $('#satchmo-container').position().left + 60 + 'px')
    .style('top', $('#satchmo-container').position().top + 80 + 'px')
    .html("<h3>" + context.title + "</h3><p>" + context.body + "</p>");

// Add axis
svg.append('g')
    .attr('class', 'x axis')
    .attr('transform', function (d) { return 'translate(0, ' + height + ')'; })
    .call(xAxis);

</script>


<!--   <div class="invitation text-center">Did you like this post? Subscribe to my blog and be notified whenever I post something new!
    <br/>
    <br/>
    <a href="http://eepurl.com/bc2g2v" target="_blank" class="button">Subscribe >></a>
</div> -->
  </article>



        </div>
      </div>

    <footer class="row clear text-center gray">
    <a href="/" class="footer-heading inline-block gray">My Musings on Music</a> - content and design by Žan Anderle
</footer>


    </body>
</html>